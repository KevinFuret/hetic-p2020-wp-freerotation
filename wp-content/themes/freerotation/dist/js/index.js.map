{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","jQuery","document","ready","$","scroll","width","this","scrollTop","hasClass","css","top","click","event","preventDefault","addClass","removeClass","mobileMenu","on","postid","attr","emplacement","ajax","type","url","my_ajax_object","ajax_url","data","action","done","parent","next","children","html","slideDown","slideUp","closeArtiste","term","console","log","$id","target","delay","animate","offset","scrollToArtiste","navigator","serviceWorker","register","then","reg","installing","waiting","active","catch","error","foundation"],"mappings":"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","file":"index.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// On vérifie que le DOM est chargé\njQuery(document).ready(function() {\n    hideMenu();\n    mobileMenu();\n    ajaxArtiste();\n    filterArtiste();\n    scrollToArtiste();\n    serviceWorker();\n    $(document).foundation();\n});\n\nfunction serviceWorker() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.register('https://freerotation.kevinfuret.fr/wp-content/themes/freerotation/sw.js').then(function(reg) {\n\n            if(reg.installing) {\n                console.log('Service worker installing');\n            } else if(reg.waiting) {\n                console.log('Service worker installed');\n            } else if(reg.active) {\n                console.log('Service worker active');\n            }\n\n        }).catch(function(error) {\n            // registration failed\n            console.log('Registration failed with ' + error);\n        });\n    }\n\n}\n\n\nfunction scrollToArtiste(e) {\n    $('.liste-artistes__artiste').click(function (){\n        //récuperer l'id\n        $id = e.target.attr('id');\n        // animer jusqu'a l'id\n        $(\"html, body\").delay(2000).animate({scrollTop: $('#'+$id).offset().top }, 2000);\n    })\n}\n\n// fonction pour afficher le menu top quand on est en dessous du header\nfunction hideMenu() {\n    $(document).scroll(function() {\n        // on vérifie qu'on est pas sur un mobile\n        if ($('body').width() > 769){\n            var y = $(this).scrollTop();\n            var limit = 0;\n            // sur la page d'accueil, le header est plus grand, donc on augmente la limite d'affichage du header top\n            if ($('body').hasClass(\"home\")){\n                limit = 450;\n            } else {\n                limit = 290;\n            }\n            // si on est en dessous de la limite, on affiche le header, sinon on le cache au dessus de la page\n            if (y > limit) {\n                $('.nav').css({top:0});\n            } else {\n                $('.nav').css({top:-60});\n            }\n        }\n    });\n}\n\n\nfunction closeArtiste(emplacement) {\n    /*$(\".close-button\").on('click', function () {\n        console.log( \"close\" );\n    });*/\n    emplacement.addClass(\"artiste-ouvert\");\n    emplacement.click(function() {\n        emplacement.next().slideUp('slow');\n        emplacement.removeClass(\"artiste-ouvert\");\n    });\n\n}\n\nfunction mobileMenu() {\n    var i = 0;\n    $('.nav__burger').click(function () {\n\n        event.preventDefault();\n        if (i%2==0) {\n            $('.nav').addClass('menu-ouvert');\n        } else {\n            $('.nav').removeClass('menu-ouvert');\n        }\n        i++;\n    })\n}\nfunction ajaxArtiste() {\n        // And always use 'use strict' to make your JavaScript code mode strict.\n        'use strict';\n        // Wrap it with after the DOM is ready block.\n        $(function (e) {\n            if ($('body').hasClass('page-id-97') == true) {\n                // Try not to use click() method directly.\n                // Rather try to delegate the event with on() method.\n                $('.artiste').on('click', function (e) {\n                    e.preventDefault();\n                    var postid = $(this).attr('data-post-id');\n                    var emplacement = $(this);\n                    // I don't know why the shorthand method had not worked for me as well\n                    // But this method has worked for me.\n                    if (emplacement.hasClass('artiste-ouvert') == false ){\n                        $.ajax({\n                            type: \"POST\",\n                            url: my_ajax_object.ajax_url,\n                            data: {\n                                action: 'ajax_artiste_description',\n                                postid: postid,\n                            }\n                        }).done(function (data) {\n                            // Just simple html() method with data will show all the content.\n                            emplacement.parent().addClass('artiste-open');\n                            emplacement.next().children().html(data);\n                            emplacement.next().slideDown('slow');\n                            closeArtiste(emplacement);\n                        });\n                    }\n                });\n            }\n        });\n}\n\nfunction filterArtiste() {\n        // And always use 'use strict' to make your JavaScript code mode strict.\n        'use strict';\n        // Wrap it with after the DOM is ready block.\n        $(function (e) {\n            if ($('body').hasClass('page-id-97') == true) {\n                // Try not to use click() method directly.\n                // Rather try to delegate the event with on() method.\n                $('.filters__unetaxo').on('click', function (e) {\n                    e.preventDefault();\n                    var term = $(this).attr('data-post-id');\n                    console.log(term);\n                    // I don't know why the shorthand method had not worked for me as well\n                    // But this method has worked for me.\n                        $.ajax({\n                            type: \"POST\",\n                            url: my_ajax_object.ajax_url,\n                            data: {\n                                action: 'ajax_filter_artiste',\n                                term: term,\n                            }\n                        }).done(function (data) {\n                            // Just simple html() method with data will show all the content.\n                            var emplacement = $('.artistes');\n                            emplacement.html(data);\n                            emplacement.slideDown('slow');\n                        });\n                });\n            }\n        });\n}\n\n"]}